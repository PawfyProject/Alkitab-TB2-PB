<!DOCTYPE html>
<html lang="id"><head>
  <meta charset="UTF-8">
  <title>Alkitab Perjanjian Baru - TB2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN for styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom styles for select arrow for better appearance */
    select {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' d='m19.5 8.25-7.5 7.5-7.5-7.5'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem; /* Make space for the custom arrow */
    }

    /* Custom font family (Tahoma) and text shadow for readability */
    body {
      font-family: 'Tahoma', sans-serif; /* Fallback to generic sans-serif */
    }
    .font-tahoma-bold {
      font-family: 'Tahoma', sans-serif;
      font-weight: bold;
    }
    .text-shadow-black {
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }
    .text-shadow-strong {
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);
    }

    /* Base styles for the verse display wrapper */
    .verse-display-wrapper {
      position: relative; /* Needed for absolute positioning of reference */
      padding-bottom: 4rem; /* Space for absolute reference */
      text-align: left; /* Default text alignment for verse content */
      width: 100%;
      height: 100%; /* Take full height of parent */
      display: flex;
      flex-direction: column;
      justify-content: flex-start; /* Align content to the top */
      align-items: flex-start; /* Align content to the left */
    }

    /* Specific styles for single verse content within the wrapper */
    .verse-display-wrapper .verse-text-single {
        text-align: center; /* Center the verse text for single display */
        flex-grow: 1; /* Allow text to take available space */
        display: flex;
        align-items: center; /* Vertically center the text */
        justify-content: center; /* Horizontally center the text */
        width: 100%;
    }

    /* Style for search results and full chapter display */
    .search-results-container, .chapter-verses-container {
        width: 100%;
        padding: 1rem; /* Inner padding */
        overflow-y: auto; /* Enable vertical scrolling */
        /* Max height will be controlled by max-h-[vh] classes */
    }

    .search-result-item, .chapter-verse-item {
        position: relative;
        padding: 1.5rem;
        border-radius: 0.5rem;
        margin-bottom: 1rem;
        background-color: rgba(49, 46, 129, 0.9); /* indigo-800 with slight transparency for overlapping */
        border: 1px solid #4338CA; /* indigo-700 */
        padding-bottom: 4rem; /* Space for absolute reference */
        text-align: left;
    }
    .search-result-item:last-child, .chapter-verse-item:last-child {
        margin-bottom: 0; /* No margin for the last item */
    }

    .search-result-item .verse-text-content, .chapter-verse-item .verse-text-content {
        text-align: left; /* Ensure text within results/chapter is left-aligned */
    }

    /* Absolute positioning for reference */
    .verse-reference {
      position: absolute;
      bottom: 1rem; /* Distance from bottom */
      right: 1rem; /* Distance from right */
      text-align: right;
    }
  </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.flex{display:flex}.hidden{display:none}.h-12{height:3rem}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-100%{max-width:56rem}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.appearance-none{-webkit-appearance:none;appearance:none}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-4{gap:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-indigo-800{--tw-border-opacity:1;border-color:rgb(55 48 163 / var(--tw-border-opacity, 1))}.bg-indigo-900{--tw-bg-opacity:1;background-color:rgb(49 46 129 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-blue-500{--tw-gradient-from:#3b82f6 var(--tw-gradient-from-position);--tw-gradient-to:rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-500{--tw-gradient-from:#a855f7 var(--tw-gradient-from-position);--tw-gradient-to:rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-teal-500{--tw-gradient-from:#14b8a6 var(--tw-gradient-from-position);--tw-gradient-to:rgb(20 184 166 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-blue-600{--tw-gradient-to:#2563eb var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to:#9333ea var(--tw-gradient-to-position)}.to-teal-600{--tw-gradient-to:#0d9488 var(--tw-gradient-to-position)}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.text-center{text-align:center}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.font-extrabold{font-weight:800}.leading-relaxed{line-height:1.625}.text-emerald-300{--tw-text-opacity:1;color:rgb(110 231 183 / var(--tw-text-opacity, 1))}.text-emerald-400{--tw-text-opacity:1;color:rgb(52 211 153 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.drop-shadow-lg{--tw-drop-shadow:drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-200{transition-duration:200ms}.duration-300{transition-duration:300ms}.hover\:border-purple-500:hover{--tw-border-opacity:1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.hover\:border-teal-500:hover{--tw-border-opacity:1;border-color:rgb(20 184 166 / var(--tw-border-opacity, 1))}.hover\:from-blue-600:hover{--tw-gradient-from:#2563eb var(--tw-gradient-from-position);--tw-gradient-to:rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:from-purple-600:hover{--tw-gradient-from:#9333ea var(--tw-gradient-from-position);--tw-gradient-to:rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:from-teal-600:hover{--tw-gradient-from:#0d9488 var(--tw-gradient-from-position);--tw-gradient-to:rgb(13 148 136 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-blue-700:hover{--tw-gradient-to:#1d4ed8 var(--tw-gradient-to-position)}.hover\:to-purple-700:hover{--tw-gradient-to:#7e22ce var(--tw-gradient-to-position)}.hover\:to-teal-700:hover{--tw-gradient-to:#0f766e var(--tw-gradient-to-position)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-purple-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(168 85 247 / var(--tw-ring-opacity, 1))}.focus\:ring-teal-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(20 184 166 / var(--tw-ring-opacity, 1))}.focus\:ring-opacity-75:focus{--tw-ring-opacity:0.75}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width: 768px){.md\:w-auto{width:auto}.md\:flex-row{flex-direction:row}.md\:text-5xl{font-size:3rem;line-height:1}.md\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\:text-base{font-size:1rem;line-height:1.5rem}}@media (min-width: 1024px){.lg\:text-5xl{font-size:3rem;line-height:1}}</style><style id="__web-inspector-hide-shortcut-style__">
.__web-inspector-hide-shortcut__, .__web-inspector-hide-shortcut__ *, .__web-inspector-hidebefore-shortcut__::before, .__web-inspector-hideafter-shortcut__::after
{
    visibility: hidden !important;
}
</style></head>
<body class="min-h-screen bg-transparent text-white flex flex-col items-center justify-center p-4 font-tahoma-bold">

  <!-- Page Title -->
  <h1 class="text-4xl md:text-5xl font-extrabold mb-8 text-center text-emerald-300 drop-shadow-lg text-shadow-strong">
    Alkitab Perjanjian Baru - TB2
  </h1>

  <!-- Loading and Error Display -->
  <div id="loadingMessage" class="text-lg text-emerald-400 mb-4 text-shadow-black hidden">Memuat data Alkitab...</div>
  <div id="errorMessage" class="text-lg text-red-500 mb-4 hidden text-shadow-black"></div>

  <!-- Main content area -->
  <div id="mainContent" class="flex flex-col items-center justify-center w-full">

    <!-- Search Kitab & Pasal Inputs -->
    <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-4 w-full max-w-2xl __web-inspector-hide-shortcut__">
      <input type="text" id="bookSearchInput" placeholder="Cari Kitab (misal: Matius)" class="p-3 bg-indigo-900 border border-indigo-800 rounded-lg text-white w-full focus:outline-none focus:ring-2 focus:ring-purple-500 hover:border-purple-500 transition duration-200 text-shadow-black">
      <button onclick="searchBook()" class="p-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-lg hover:from-purple-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 w-full md:w-auto text-shadow-black">
        Cari Kitab
      </button>
      <input type="text" id="chapterSearchInput" placeholder="Cari Pasal (misal: 5)" class="p-3 bg-indigo-900 border border-indigo-800 rounded-lg text-white w-full focus:outline-none focus:ring-2 focus:ring-purple-500 hover:border-purple-500 transition duration-200 text-shadow-black">
      <button onclick="searchChapter()" class="p-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-lg hover:from-purple-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 w-full md:w-auto text-shadow-black">
        Cari Pasal
      </button>
    </div>

    <!-- Dropdowns & Display Chapter Button -->
    <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-8 w-full max-w-2xl">
      <select id="bookSelect" class="p-3 bg-indigo-900 border border-indigo-800 rounded-lg text-white appearance-none focus:outline-none focus:ring-2 focus:ring-teal-500 hover:border-teal-500 transition duration-200 w-full md:w-auto text-shadow-black"><option value="Matius">Matius</option><option value="Markus">Markus</option><option value="Lukas">Lukas</option><option value="Yohanes">Yohanes</option><option value="Kisah Para Rasul">Kisah Para Rasul</option><option value="Roma">Roma</option><option value="1 Korintus">1 Korintus</option><option value="2 Korintus">2 Korintus</option><option value="Galatia">Galatia</option><option value="Efesus">Efesus</option><option value="Filipi">Filipi</option><option value="Kolose">Kolose</option><option value="1 Tesalonika">1 Tesalonika</option><option value="2 Tesalonika">2 Tesalonika</option><option value="1 Timotius">1 Timotius</option><option value="2 Timotius">2 Timotius</option><option value="Titus">Titus</option><option value="Filemon">Filemon</option><option value="Ibrani">Ibrani</option><option value="Yakobus">Yakobus</option><option value="1 Petrus">1 Petrus</option><option value="2 Petrus">2 Petrus</option><option value="1 Yohanes">1 Yohanes</option><option value="2 Yohanes">2 Yohanes</option><option value="3 Yohanes">3 Yohanes</option><option value="Yudas">Yudas</option><option value="Wahyu">Wahyu</option></select>

      <select id="chapterSelect" class="p-3 bg-indigo-900 border border-indigo-800 rounded-lg text-white appearance-none focus:outline-none focus:ring-2 focus:ring-teal-500 hover:border-teal-500 transition duration-200 w-full md:w-auto text-shadow-black"><option value="1">Pasal 1</option><option value="2">Pasal 2</option><option value="3">Pasal 3</option><option value="4">Pasal 4</option><option value="5">Pasal 5</option><option value="6">Pasal 6</option><option value="7">Pasal 7</option><option value="8">Pasal 8</option><option value="9">Pasal 9</option><option value="10">Pasal 10</option><option value="11">Pasal 11</option><option value="12">Pasal 12</option><option value="13">Pasal 13</option><option value="14">Pasal 14</option><option value="15">Pasal 15</option><option value="16">Pasal 16</option><option value="17">Pasal 17</option><option value="18">Pasal 18</option><option value="19">Pasal 19</option><option value="20">Pasal 20</option><option value="21">Pasal 21</option><option value="22">Pasal 22</option><option value="23">Pasal 23</option><option value="24">Pasal 24</option><option value="25">Pasal 25</option><option value="26">Pasal 26</option><option value="27">Pasal 27</option><option value="28">Pasal 28</option></select>

      <select id="verseSelect" class="p-3 bg-indigo-900 border border-indigo-800 rounded-lg text-white appearance-none focus:outline-none focus:ring-2 focus:ring-teal-500 hover:border-teal-500 transition duration-200 w-full md:w-auto text-shadow-black"><option value="1">Ayat 1</option><option value="2">Ayat 2</option><option value="3">Ayat 3</option><option value="4">Ayat 4</option><option value="5">Ayat 5</option><option value="6">Ayat 6</option><option value="7">Ayat 7</option><option value="8">Ayat 8</option><option value="9">Ayat 9</option><option value="10">Ayat 10</option><option value="11">Ayat 11</option><option value="12">Ayat 12</option><option value="13">Ayat 13</option><option value="14">Ayat 14</option><option value="15">Ayat 15</option><option value="16">Ayat 16</option><option value="17">Ayat 17</option><option value="18">Ayat 18</option><option value="19">Ayat 19</option><option value="20">Ayat 20</option><option value="21">Ayat 21</option><option value="22">Ayat 22</option><option value="23">Ayat 23</option><option value="24">Ayat 24</option><option value="25">Ayat 25</option></select>

      <button onclick="displayChapterVerses()" class="p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-lg hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 w-full md:w-auto text-shadow-black">
        Tampilkan Seluruh Pasal
      </button>
    </div>

    <!-- Navigation Buttons for Single Verse -->
    <div class="flex gap-4 mb-8">
      <button onclick="goToPrevVerse()" class="p-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-full shadow-lg hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 text-xl flex items-center justify-center w-12 h-12 text-shadow-black" aria-label="Previous Verse">
        <!-- Arrow Left Icon SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m12 19-7-7 7-7"></path>
          <path d="M19 12H5"></path>
        </svg>
      </button>
      <button onclick="showVerse()" class="p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full shadow-lg hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 text-xl flex items-center justify-center w-12 h-12 text-shadow-black" aria-label="Tampilkan Ayat">
        <!-- Play/Show Icon SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
      </button>
      <button onclick="goToNextVerse()" class="p-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-full shadow-lg hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 text-xl flex items-center justify-center w-12 h-12 text-shadow-black" aria-label="Next Verse">
        <!-- Arrow Right Icon SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M5 12h14"></path>
          <path d="m12 5 7 7-7 7"></path>
        </svg>
      </button>
    </div>

    <!-- Global Verse Search Input -->
    <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-8 w-full max-w-2xl">
      <input type="text" id="searchInput" placeholder="Cari ayat (kata atau frasa)..." class="p-3 bg-indigo-900 border border-indigo-800 rounded-lg text-white w-full focus:outline-none focus:ring-2 focus:ring-purple-500 hover:border-purple-500 transition duration-200 text-shadow-black">
      <button onclick="searchVerse()" class="p-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg shadow-lg hover:from-purple-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75 transition duration-300 transform active:scale-95 w-full md:w-auto text-shadow-black">
        Cari Ayat
      </button>
    </div>

    <!-- Verse Display Area (dynamic content) -->
    <div id="verseDisplay" class="bg-indigo-900 p-8 rounded-xl shadow-2xl w-full max-w-100% border border-indigo-800 flex items-center justify-center">
          <div class="verse-display-wrapper">
            <p class="text-3xl md:text-4xl lg:text-5xl font-tahoma-bold text-white text-shadow-strong leading-relaxed verse-text-single">
              Inilah daftar nenek moyang Yesus Kristus, anak Daud, anak Abraham.
            </p>
            <div class="verse-reference text-sm md:text-base text-gray-300 text-shadow-black">
              Matius 1:1
            </div>
          </div></div>
  </div>

  <script>
    let bibleData = {};
    let currentBook = "";
    let currentChapter = "";
    let currentVerse = "";

    // Get references to DOM elements
    const bookSelect = document.getElementById("bookSelect");
    const chapterSelect = document.getElementById("chapterSelect");
    const verseSelect = document.getElementById("verseSelect");
    const verseDisplay = document.getElementById("verseDisplay");
    const loadingMessage = document.getElementById("loadingMessage");
    const errorMessage = document.getElementById("errorMessage");
    const mainContent = document.getElementById("mainContent");
    const bookSearchInput = document.getElementById("bookSearchInput");
    const chapterSearchInput = document.getElementById("chapterSearchInput");
    const searchInput = document.getElementById("searchInput");

    // --- Core Data Loading and Population ---
    async function loadBible() {
      loadingMessage.classList.remove('hidden');
      mainContent.classList.add('hidden');
      errorMessage.classList.add('hidden');

      try {
        const res = await fetch("alkitab_pb.json");
        if (!res.ok) {
          throw new Error(`HTTP error! status: ${res.status}`);
        }
        bibleData = await res.json();
        populateBooks();
        if (Object.keys(bibleData).length > 0) {
          currentBook = Object.keys(bibleData)[0];
          bookSelect.value = currentBook;
          populateChapters();
          if (Object.keys(bibleData[currentBook]).length > 0) {
            currentChapter = Object.keys(bibleData[currentBook])[0];
            chapterSelect.value = currentChapter;
            populateVerses();
            if (Object.keys(bibleData[currentBook][currentChapter]).length > 0) {
              currentVerse = Object.keys(bibleData[currentBook][currentChapter])[0];
              verseSelect.value = currentVerse;
            }
          }
        }
        showVerse(); // Display the first verse initially
      } catch (e) {
        console.error("Failed to load Bible data:", e);
        errorMessage.textContent = "Gagal memuat data Alkitab. Pastikan 'alkitab_pb.json' ada dan valid.";
        errorMessage.classList.remove('hidden');
      } finally {
        loadingMessage.classList.add('hidden');
        mainContent.classList.remove('hidden');
      }
    }

    function populateBooks() {
      bookSelect.innerHTML = "";
      Object.keys(bibleData).forEach(book => {
        bookSelect.add(new Option(book, book));
      });
    }

    function populateChapters() {
      chapterSelect.innerHTML = "";
      const chapters = bibleData[bookSelect.value] || {};
      Object.keys(chapters).sort((a, b) => parseInt(a) - parseInt(b)).forEach(ch => {
        chapterSelect.add(new Option("Pasal " + ch, ch));
      });
      currentChapter = chapterSelect.value;
      populateVerses();
    }

    function populateVerses() {
      verseSelect.innerHTML = "";
      const verses = bibleData[bookSelect.value][chapterSelect.value] || {};
      Object.keys(verses).sort((a, b) => parseInt(a) - parseInt(b)).forEach(v => {
        verseSelect.add(new Option("Ayat " + v, v));
      });
      currentVerse = verseSelect.value;
    }

    // --- Display Functions ---

    // Displays a single verse based on current dropdown selections
    function showVerse() {
      currentBook = bookSelect.value;
      currentChapter = chapterSelect.value;
      currentVerse = verseSelect.value;

      if (currentBook && currentChapter && currentVerse && bibleData[currentBook] && bibleData[currentBook][currentChapter]) {
        const text = bibleData[currentBook][currentChapter][currentVerse];
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-3xl md:text-4xl lg:text-5xl font-tahoma-bold text-white text-shadow-strong leading-relaxed verse-text-single">
              ${text}
            </p>
            <div class="verse-reference text-sm md:text-base text-gray-300 text-shadow-black">
              ${currentBook} ${currentChapter}:${currentVerse}
            </div>
          </div>`;
      } else {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-gray-400 text-shadow-black verse-text-single">Pilih Kitab, Pasal, dan Ayat, atau gunakan pencarian.</p>
          </div>`;
      }
      // Reset search inputs when displaying single verse
      searchInput.value = '';
      bookSearchInput.value = '';
      chapterSearchInput.value = '';
    }

    // Displays all verses for the selected chapter
    function displayChapterVerses() {
      currentBook = bookSelect.value;
      currentChapter = chapterSelect.value;

      if (!currentBook || !currentChapter || !bibleData[currentBook] || !bibleData[currentBook][currentChapter]) {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-red-400 text-shadow-black verse-text-single">Silakan pilih Kitab dan Pasal yang valid.</p>
          </div>`;
        return;
      }

      let chapterHtml = `
        <div class="chapter-verses-container w-full max-h-[70vh] md:max-h-[80vh] mx-auto overflow-y-auto bg-indigo-900 p-6 rounded-lg shadow-xl border border-indigo-800">
          <h2 class="text-2xl md:text-3xl font-tahoma-bold text-white text-shadow-strong mb-4 text-center">
            ${currentBook} Pasal ${currentChapter}
          </h2>`;

      const verses = bibleData[currentBook][currentChapter];
      Object.keys(verses).sort((a, b) => parseInt(a) - parseInt(b)).forEach(vNum => {
        const vText = verses[vNum];
        chapterHtml += `
          <div class="chapter-verse-item">
            <p class="text-lg md:text-xl font-tahoma-bold text-white text-shadow-black leading-relaxed">
              <span class="font-extrabold">${vNum}.</span> ${vText}
            </p>
            <div class="verse-reference text-xs md:text-sm text-gray-300 text-shadow-black">
              ${currentBook} ${currentChapter}:${vNum} (TB2)
            </div>
          </div>`;
      });

      chapterHtml += `</div>`;
      verseDisplay.innerHTML = chapterHtml;
       // Reset search inputs when displaying full chapter
      searchInput.value = '';
      bookSearchInput.value = '';
      chapterSearchInput.value = '';
    }


    // --- Navigation Functions ---
    function goToNextVerse() {
      if (!currentBook || !currentChapter || !currentVerse) return;

      const currentBookChapters = bibleData[currentBook];
      const verseNumbers = Object.keys(currentBookChapters[currentChapter]).map(Number).sort((a, b) => a - b);
      const chapterNumbers = Object.keys(currentBookChapters).map(Number).sort((a, b) => a - b);
      const bookNames = Object.keys(bibleData);

      const currentVerseIndex = verseNumbers.indexOf(Number(currentVerse));
      const currentChapterIndex = chapterNumbers.indexOf(Number(currentChapter));
      const currentBookIndex = bookNames.indexOf(currentBook);

      if (currentVerseIndex < verseNumbers.length - 1) {
        currentVerse = String(verseNumbers[currentVerseIndex + 1]);
      } else if (currentChapterIndex < chapterNumbers.length - 1) {
        currentChapter = String(chapterNumbers[currentChapterIndex + 1]);
        const nextChapterVerses = Object.keys(currentBookChapters[currentChapter]).map(Number).sort((a, b) => a - b);
        currentVerse = String(nextChapterVerses[0]);
        chapterSelect.value = currentChapter;
        populateVerses();
      } else if (currentBookIndex < bookNames.length - 1) {
        currentBook = bookNames[currentBookIndex + 1];
        bookSelect.value = currentBook;
        populateChapters();
        currentChapter = Object.keys(bibleData[currentBook]).map(Number).sort((a, b) => a - b)[0];
        chapterSelect.value = currentChapter;
        populateVerses();
        currentVerse = Object.keys(bibleData[currentBook][currentChapter]).map(Number).sort((a, b) => a - b)[0];
      }

      verseSelect.value = currentVerse;
      showVerse();
    }

    function goToPrevVerse() {
      if (!currentBook || !currentChapter || !currentVerse) return;

      const currentBookChapters = bibleData[currentBook];
      const verseNumbers = Object.keys(currentBookChapters[currentChapter]).map(Number).sort((a, b) => a - b);
      const chapterNumbers = Object.keys(currentBookChapters).map(Number).sort((a, b) => a - b);
      const bookNames = Object.keys(bibleData);

      const currentVerseIndex = verseNumbers.indexOf(Number(currentVerse));
      const currentChapterIndex = chapterNumbers.indexOf(Number(currentChapter));
      const currentBookIndex = bookNames.indexOf(currentBook);

      if (currentVerseIndex > 0) {
        currentVerse = String(verseNumbers[currentVerseIndex - 1]);
      } else if (currentChapterIndex > 0) {
        currentChapter = String(chapterNumbers[currentChapterIndex - 1]);
        const prevChapterVerses = Object.keys(currentBookChapters[currentChapter]).map(Number).sort((a, b) => a - b);
        currentVerse = String(prevChapterVerses[prevChapterVerses.length - 1]);
        chapterSelect.value = currentChapter;
        populateVerses();
      } else if (currentBookIndex > 0) {
        currentBook = bookNames[currentBookIndex - 1];
        bookSelect.value = currentBook;
        populateChapters();
        currentChapter = Object.keys(bibleData[currentBook]).map(Number).sort((a, b) => a - b)[Object.keys(bibleData[currentBook]).length - 1];
        chapterSelect.value = currentChapter;
        populateVerses();
        currentVerse = Object.keys(bibleData[currentBook][currentChapter]).map(Number).sort((a, b) => a - b)[Object.keys(bibleData[currentBook][currentChapter]).length - 1];
      }

      verseSelect.value = currentVerse;
      showVerse();
    }

    // --- Search Functions ---

    // Searches for a book by name and updates the book dropdown
    function searchBook() {
      const query = bookSearchInput.value.toLowerCase().trim();
      if (!query) {
        populateBooks(); // If query is empty, show all books
        showVerse(); // Show default verse
        return;
      }

      const bookNames = Object.keys(bibleData);
      const foundBook = bookNames.find(name => name.toLowerCase().includes(query));

      if (foundBook) {
        bookSelect.value = foundBook;
        populateChapters();
        showVerse(); // Display first verse of the found book
      } else {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-red-400 text-shadow-black verse-text-single">Kitab "${bookSearchInput.value}" tidak ditemukan.</p>
          </div>`;
      }
      // Clear other search inputs
      chapterSearchInput.value = '';
      searchInput.value = '';
    }

    // Searches for a chapter by number in the current book and displays all verses
    function searchChapter() {
      const query = chapterSearchInput.value.trim();
      if (!query) {
        displayChapterVerses(); // If query is empty, just display current chapter
        return;
      }

      currentBook = bookSelect.value;
      if (!currentBook || !bibleData[currentBook]) {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-red-400 text-shadow-black verse-text-single">Silakan pilih Kitab terlebih dahulu.</p>
          </div>`;
        return;
      }

      const chapterNumbers = Object.keys(bibleData[currentBook]).map(Number).sort((a, b) => a - b);
      const foundChapter = chapterNumbers.find(ch => String(ch) === query);

      if (foundChapter) {
        chapterSelect.value = String(foundChapter);
        populateVerses(); // Repopulate verses for the found chapter
        displayChapterVerses(); // Display all verses of this chapter
      } else {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-red-400 text-shadow-black verse-text-single">Pasal "${chapterSearchInput.value}" tidak ditemukan di ${currentBook}.</p>
          </div>`;
      }
      // Clear other search inputs
      bookSearchInput.value = '';
      searchInput.value = '';
    }

    // Searches for verses by content across the entire Bible
    function searchVerse() {
      const query = searchInput.value.toLowerCase().trim();
      let resultsHtml = '';
      let matchCount = 0;

      if (query.length === 0) {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-gray-400 text-shadow-black verse-text-single">Silakan masukkan kata kunci untuk pencarian ayat.</p>
          </div>`;
        return;
      }

      // Iterate through all books, chapters, and verses to find matches
      for (const bookName in bibleData) {
        for (const chapterNum in bibleData[bookName]) {
          for (const verseNum in bibleData[bookName][chapterNum]) {
            const verseText = bibleData[bookName][chapterNum][verseNum];
            if (verseText.toLowerCase().includes(query)) {
              matchCount++;
              // Highlight the query in the result
              const highlightedText = verseText.replace(new RegExp(query, 'gi'), match => `<span class="bg-yellow-300 text-gray-900 px-1 rounded">${match}</span>`);
              
              resultsHtml += `
                <div class="search-result-item">
                    <p class="text-lg md:text-xl font-tahoma-bold text-white text-shadow-black leading-relaxed mb-4">
                        <span class="font-extrabold">${bookName} ${chapterNum}:${verseNum}</span> - ${highlightedText}
                    </p>
                    <div class="verse-reference text-xs md:text-sm text-gray-400 text-shadow-black">
                        ${bookName} ${chapterNum}:${verseNum}
                    </div>
                </div>`;
            }
          }
        }
      }

      if (matchCount > 0) {
        verseDisplay.innerHTML = `
          <div class="search-results-container w-full max-w-100% max-h-[70vh] md:max-h-[80vh] mx-auto overflow-y-auto bg-indigo-900 p-6 rounded-lg shadow-xl border border-indigo-800">
            <h2 class="text-2xl md:text-3xl font-tahoma-bold text-white text-shadow-strong mb-4 text-center">
              Ditemukan ${matchCount} Ayat:
            </h2>
            ${resultsHtml}
          </div>`;
      } else {
        verseDisplay.innerHTML = `
          <div class="verse-display-wrapper">
            <p class="text-xl text-red-400 text-shadow-black verse-text-single">Tidak ditemukan ayat yang cocok dengan "${query}".</p>
          </div>`;
      }
      // Clear other search inputs
      bookSearchInput.value = '';
      chapterSearchInput.value = '';
    }

    // --- Event Listeners ---
    bookSelect.addEventListener("change", showVerse);
    chapterSelect.addEventListener("change", showVerse);
    verseSelect.addEventListener("change", showVerse);

    // Load Bible data when the page loads
    window.onload = loadBible;
  </script>



</body></html>
